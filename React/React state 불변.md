## React state가 불변이어야 하는 이유는?

- 변수가 불변성을 띄면 함수에서 side effect가 발생할 확률이 낮아짐.
- side effect가 없는 것만으로도 프로그램의 복잡도가 상당히 줄어듬.
- React에서 최적화가 가능하다.



1. 사이드 이펙트 방지 및 프로그래밍 구조의 단순성.

원시타입은 애시당초 불변성 특징을 가지고 있지만 참조타입인 객체나 배열의 경우 새로운 값을 변경할 때 원본 데이터가 변경이 됩니다(불변성이 지켜지지 않습니다).

이렇게 원본 데이터가 변경될 경우, 이 원본데이터를 참조하고 있는 다른 객체에서 예상치 못한 오류가 발생할 수 있습니다. 프로그래밍의 복잡도도 올라간다.

 

2. 변경이 일어난 객체의 프로퍼티만 비교함으로써 React에서 최적화가 가능하다.

리액트에서 setState등 업데이트가 일어나면 실제 돔과 가상 돔을 비교해서 변경이 있는 부분만 변경이 된다. 

리액트에서 setState를 통해 상태값을 변경할 때 얕은 비교를 사용
